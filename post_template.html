<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{{ TITLE }}</title>
    <link rel="stylesheet" href="../css/global.css" />
  </head>
  <body>
    <div
      id="doc"
      class="container-fluid markdown-body comment-enabled"
      data-hard-breaks="true"
    >
      <div id="color-mode-switch">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 3v1m0 16v1m9-9h-1M4 12H3
             m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707
             m12.728 0l-.707.707M6.343 17.657l-.707.707
             M16 12a4 4 0 11-8 0 4 4 0 018 0z"
          />
        </svg>
        <input type="checkbox" id="switch" />
        <label for="switch">Dark Mode Toggle</label>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M20.354 15.354A9 9 0
             018.646 3.646 9.003 9.003 0
             0012 21a9.003 9.003 0
             008.354-5.646z"
          />
        </svg>
      </div>

      <div class="content">
        <h1>{{ TITLE }}</h1>
        <p style="color: #888">{{ DATE }}</p>
        <!-- "Back" link -->
        <p><a href="../index.html">Back to home</a></p>

        {{ CONTENT }}

        <!-- "Back" link -->
        <p><a href="../index.html">Back to home</a></p>
      </div>

      <script>
        // (Same dark-mode script as in index.html, if you want it working here too)
        const toggleDarkMode = () => {
          const root = document.querySelector("html");
          root.classList.toggle("dark");
        };
        const toggleColorScheme = () => {
          const colorScheme = localStorage.getItem("colorScheme");
          if (colorScheme === "light")
            localStorage.setItem("colorScheme", "dark");
          else localStorage.setItem("colorScheme", "light");
        };
        const toggle = document.querySelector(
          '#color-mode-switch input[type="checkbox"]'
        );
        if (toggle)
          toggle.onclick = () => {
            toggleDarkMode();
            toggleColorScheme();
          };
        const checkColorScheme = () => {
          const colorScheme = localStorage.getItem("colorScheme");
          if (colorScheme === null || colorScheme === undefined) {
            localStorage.setItem("colorScheme", "light");
          }
          if (colorScheme === "dark") {
            toggle.checked = true;
            toggleDarkMode();
          }
        };
        checkColorScheme();
      </script>
    </div>
  </body>
</html>
